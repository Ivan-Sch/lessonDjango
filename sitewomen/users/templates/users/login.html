{% extends 'base.html' %}
 
{% block content %}
<h1>Авторизация</h1>
 
<form method="post">
    {% csrf_token %}
    <input type="hidden" name="next" value="{{ next }}" /> <!--http://127.0.0.1:8000/users/login/?next=/addpage/
    Он содержит URL-адрес страницы, на которую следует сделать перенаправление после успешной авторизации.
    В данном случае, мы попадаем на страницу добавления статей.
    Причем, этот параметр next имеет более высокий приоритет, чем параметр LOGIN_REDIRECT_URL,
    прописанный в пакете конфигурации., но меньше чем прописанный в классе пред-я def get_success_url(self) -->

<!--    берем нашу форму и охватываем тегом p-->
<!--    {{ form.as_p }}-->

    <div class="form-error">{{ form.non_field_errors }}</div> <!--для вывода ошибок валидации, не связанных с заполнением того или иного поля-->
    {% for f in form %}
    <!-- в этом случае мы не можем менять интерфейс каждого поля отдельно, т.к. class одинаковый, но мы можем прописать отдельно в самой форме поля class-->
    <p><label class="form-label" for="{{ f.id_for_label }}">{{f.label}}: </label>{{ f }}</p>
    <div class="form-error">{{ f.errors }}</div> <!--будет выводиться ошибка (например: неверно заполнил поле,
    слаг должен состоять из латинских, цифр или знака подчеркивания.... и другие ошибки)-->
    {% endfor %}
    <p ><button type="submit">Войти</button></p>


    <p ><a href="{% url 'users:password_reset' %}">Забыли пароль?</a></p>
</form>
 
{% endblock %}